<!doctype html>
<html style="height:100%" ;>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>萬國_Boss重生計時</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
     crossorigin="anonymous">
     <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>  
	<script>
		var uid = "<?php echo $uid ?>";
		var navStatus = true;
        var funcAry = new Array();
        var bossData = new Object();
        var getTime = 1000; 
        var getGSTime = 5000;         
        var timeID = null;
        var timeIDGS = null;        
        var ringUtil = null;
        var warnSW = false;
        var bossWarn = new Array();
        var bossPlace = new Array();
		function init() {
            bossData["1"]={"index":"1","name":"凱索斯(絕望廢墟)","rebornTime":"600","nextBorn":"","killTime":"0.2","lastPlace":""};
            bossData["2"]={"index":"2","name":"采爾圖巴(采爾圖巴的營帳)","rebornTime":"360","nextBorn":"","killTime":"0.2","lastPlace":""};
            bossData["3"]={"index":"3","name":"特論巴(血之沼澤)","rebornTime":"420","nextBorn":"","killTime":"0.5","lastPlace":""};
            bossData["4"]={"index":"4","name":"安庫拉(狄恩牧草地)","rebornTime":"360","nextBorn":"","killTime":"0.3","lastPlace":""};
            bossData["5"]={"index":"5","name":"沙勒卡(德魯伊蜥蜴人棲息地)","rebornTime":"300","nextBorn":"","killTime":"0.3","lastPlace":""};                
            bossData["6"]={"index":"6","name":"巴實那(荒原南部)","rebornTime":"240","nextBorn":"","killTime":"0.1","lastPlace":""};
            bossData["7"]={"index":"7","name":"薩班(螞蟻洞窟地下2樓)","rebornTime":"720","nextBorn":"","killTime":"0.1","lastPlace":""};
            bossData["8"]={"index":"8","name":"巨蟻女王(螞蟻洞窟地下3樓)","rebornTime":"360","nextBorn":"","killTime":"3","lastPlace":""};
            bossData["9"]={"index":"9","name":"佩爾利斯(蜜蜂蜂窩)","rebornTime":"180","nextBorn":"","killTime":"0.3","lastPlace":""};
            bossData["10"]={"index":"10","name":"提米特利斯(芙羅蘭開墾地)","rebornTime":"480","nextBorn":"","killTime":"0.2","lastPlace":""};
            bossData["11"]={"index":"11","name":"潘柴特(狄恩丘陵地)","rebornTime":"720","nextBorn":"","killTime":"0.2","lastPlace":""};
            bossData["12"]={"index":"12","name":"塔拉金(叛亂軍根據地)","rebornTime":"600","nextBorn":"","killTime":"0.3","lastPlace":""};             
            bossData["13"]={"index":"13","name":"坦彿斯特(太平間)","rebornTime":"360","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["14"]={"index":"14","name":"突變克魯瑪(克魯瑪沼澤地)","rebornTime":"480","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["15"]={"index":"15","name":"史坦(巨人的痕跡)","rebornTime":"420","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["16"]={"index":"16","name":"被污染的克魯瑪(克魯瑪高塔3樓)","rebornTime":"480","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["17"]={"index":"17","name":"卡坦(克魯瑪高塔6樓)","rebornTime":"600","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["18"]={"index":"18","name":"核心基座(克魯瑪高塔7樓)","rebornTime":"600","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["19"]={"index":"19","name":"潘納洛德(哥肯花園)","rebornTime":"300","nextBorn":"","killTime":"0.3","lastPlace":""};
            bossData["20"]={"index":"20","name":"魔圖拉(掠奪者野營)","rebornTime":"360","nextBorn":"","killTime":"0.3","lastPlace":""};
            bossData["21"]={"index":"21","name":"布賴卡(布賴卡巢穴)","rebornTime":"360","nextBorn":"","killTime":"0.3","lastPlace":""};
            bossData["22"]={"index":"22","name":"塔金(里多蜥蜴人部落)","rebornTime":"480","nextBorn":"","killTime":"0.2","lastPlace":""};                
            bossData["23"]={"index":"23","name":"卡雷斯(塔諾峽谷)","rebornTime":"540","nextBorn":"","killTime":"0.5","lastPlace":""};
            bossData["24"]={"index":"24","name":"梅杜莎(梅杜莎庭園)","rebornTime":"600","nextBorn":"","killTime":"0.5","lastPlace":""};
            bossData["25"]={"index":"25","name":"黑色蕾爾莉(死亡迴廊)","rebornTime":"720","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["26"]={"index":"26","name":"貝希莫斯(龍之谷北部)","rebornTime":"540","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["27"]={"index":"27","name":"猛龍獸(安塔瑞斯洞窟地下6樓)","rebornTime":"720","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["28"]={"index":"28","name":"賽魯(帕格立歐祭壇)","rebornTime":"720","nextBorn":"","killTime":"0.5","lastPlace":""};
            bossData["29"]={"index":"29","name":"瓦柏(山賊城寨)","rebornTime":"720","nextBorn":"","killTime":"0.5","lastPlace":""};
            bossData["30"]={"index":"30","name":"提米妮爾(提米妮爾之巢/風之丘陵)","rebornTime":"480","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["31"]={"index":"31","name":"雷比魯(孢子擴散地)","rebornTime":"420","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["32"]={"index":"32","name":"奧爾芬(奧爾芬之巢)","rebornTime":"1440","nextBorn":"","killTime":"0","lastPlace":""};
            bossData["33"]={"index":"33","name":"寇倫(象牙塔二樓)","rebornTime":"720","nextBorn":"","killTime":"0","lastPlace":""};

            bossWarn["1"]=false;
            bossWarn["2"]=false;
            bossWarn["3"]=false;
            bossWarn["4"]=false;
            bossWarn["5"]=false;
            bossWarn["6"]=false;
            bossWarn["7"]=false;
            bossWarn["8"]=false;
            bossWarn["9"]=false;
            bossWarn["10"]=false;
            bossWarn["11"]=false;
            bossWarn["12"]=false;
            bossWarn["13"]=false;
            bossWarn["14"]=false;
            bossWarn["15"]=false;
            bossWarn["16"]=false;
            bossWarn["17"]=false;
            bossWarn["18"]=false;
            bossWarn["19"]=false;
            bossWarn["20"]=false;
            bossWarn["21"]=false;
            bossWarn["22"]=false;
            bossWarn["23"]=false;
            bossWarn["24"]=false;
            bossWarn["25"]=false;
            bossWarn["26"]=false;
            bossWarn["27"]=false;
            bossWarn["28"]=false;
            bossWarn["29"]=false;
            bossWarn["30"]=false;
            bossWarn["31"]=false;
            bossWarn["32"]=false;
            bossWarn["33"]=false;


            bossPlace["1"] = {"1":"左","2":"右","3":"下"};
            bossPlace["2"] = {"1":""};
            bossPlace["3"] = {"1":"上(26)","2":"中(28)","3":"下(27)"};
            bossPlace["4"] = {"1":"左","2":"中","3":"右"};
            bossPlace["5"] = {"1":"上","2":"下"};
            bossPlace["6"] = {"1":""};
            bossPlace["7"] = {"1":""};
            bossPlace["8"] = {"1":""};
            bossPlace["9"] =  {"1":"中","2":"下","3":"右"};
            bossPlace["10"] = {"1":"上(23)","2":"下(24)"};
            bossPlace["11"] = {"1":"上(20)","2":"下(21)"};
            bossPlace["12"] = {"1":"上","2":"下"};
            bossPlace["13"] = {"1":""};
            bossPlace["14"] = {"1":""};
            bossPlace["15"] = {"1":"上","2":"下"};
            bossPlace["16"] = {"1":"上","2":"下"};
            bossPlace["17"] = {"1":"上","2":"下"};
            bossPlace["18"] = {"1":""};
            bossPlace["19"] = {"1":"左","2":"中","3":"右","4":"右下"};
            bossPlace["20"] = {"1":"左","2":"中","3":"右上","4":"右下"};
            bossPlace["21"] = {"1":"上","2":"中","3":"右"};
            bossPlace["22"] = {"1":"左","2":"中","3":"右"};
            bossPlace["23"] = {"1":"左(02)","2":"右(01)"};
            bossPlace["24"] = {"1":"上(33)","2":"下(32)"};
            bossPlace["25"] = {"1":"左下(19)","2":"中下(17)","3":"右下(18)"};
            bossPlace["26"] = {"1":"左下","2":"左中凹槽","3":"上三岔","4":"右下"};
            bossPlace["27"] = {"1":""};
            bossPlace["28"] = {"1":"左(31)","2":"中(29)","3":"右(30)"};
            bossPlace["29"] = {"1":"左","2":"中","3":"上","4":"下"};
            bossPlace["30"] = {"1":"左上(16)","2":"右內(14)","3":"右外(15)"};
            bossPlace["31"] = {"1":"中","2":"右","3":"最右"};
            bossPlace["32"] = {"1":""};
            bossPlace["33"] = {"1":"左","2":"中","3":"右"};
            
            var date = new Date(Date.now());
            document.getElementById("time_YYYY").value = date.getFullYear();
            document.getElementById("time_Mon").value = date.getMonth()+1;
            document.getElementById("time_DD").value = date.getDate();
            document.getElementById("time_HH").value = date.getHours();
            document.getElementById("time_MM").value = date.getMinutes();
           
            ringUtil = new ringSystem();
            ringUtil.setRingAudioAtr();
            getGSBossData();

            var boss_sele = document.getElementById("boss_select");
            for(var key in bossData){
                var tmp = bossData[key];
                boss_sele.options.add(new Option(tmp["name"], tmp["index"]));
            }
            boss_select();               
        }
        function doSomthing(data){
            if (timeIDGS != null) clearTimeout(timeIDGS);
            var LSdata = JSON.parse(data);
            if(LSdata != "" && LSdata["2"]){
                if( object_count(bossData) != object_count(LSdata)){
                    for(var key in bossData){
                        if(!LSdata[key])LSdata[key] = bossData[key];
                        // console.log("1:" + LSdata[key]["name"] + " | 2:" + bossData[key]["name"]);
                        if(LSdata[key]["name"] != bossData[key]["name"])LSdata[key] = bossData[key];
                    }
                }
                bossData = LSdata;
            }            
            bossData = LSdata;
            getNowTime();
            // setLocalStorage("bossData_v2",JSON.stringify(data));

            timeIDGS = setTimeout(getGSBossData, getGSTime);
        }        
        function getNowTime() {
            if (timeID != null) clearTimeout(timeID);
            var timeInMs = Date.now();
            var time_div = document.getElementById("text_now_time");
            var tmp_time = secTrancer(timeInMs);
            time_div.innerHTML = tmp_time;
            checkBossTime();
            timeID = setTimeout(getNowTime, getTime);
        }        
		function show() {
            var btn_view = document.getElementById("btn_view");
            var show_view = document.getElementById("show_view");
            var btnXMP = document.getElementById("btnXMP").innerHTML;
            var btnXMP2 = document.getElementById("btnXMP2").innerHTML;
            var listXMP = document.getElementById("listXMP").innerHTML;
            var tmp_btn_v = "";
            var tmp_list_v = "";
            btn_view.innerHTML = "";
            show_view.innerHTML = "";
            var funcNameAry = new Array();
            var bossAry = object_sort(bossData);
			for (key in bossData) {
                var tmp = btnXMP;
                var inner_btn = "";
                var tmp_data = bossData[key];
                var nowD = Date.now();
                
                tmp = tmp.replace(/\*ID\*/gi, tmp_data["index"]);
                tmp = tmp.replace(/\*BOSSNAME\*/gi, tmp_data["name"]);
                tmp = tmp.replace(/\*BORNTIME\*/gi, secTrancer(tmp_data["nextBorn"]) );
                var btnclass = "primary";
                if( tmp_data["nextBorn"] != "" && (tmp_data["nextBorn"]-nowD) < 5*60*1000)btnclass = "danger";
                if( tmp_data["nextBorn"] != "" && (nowD - (tmp_data["nextBorn"]-(tmp_data["rebornTime"]*60*1000 )) ) <= 5*60*1000)btnclass = "success";
                tmp = tmp.replace(/\*CLASS\*/gi, btnclass );

                var placeAry = bossPlace[tmp_data["index"]];
                for(var key in placeAry){
                    if(placeAry[key] == "")continue;                    
                    inner_btn += btnXMP2;
                    inner_btn = inner_btn.replace(/\*ID\*/gi, tmp_data["index"]);
                    inner_btn = inner_btn.replace(/\*PLACEID\*/gi, key);
                    inner_btn = inner_btn.replace(/\*PLACENAME\*/gi, placeAry[key]);
                }
                tmp = tmp.replace(/\*PLACEBTN\*/gi, inner_btn );
                tmp_btn_v += tmp;        
            }

            for(var i = 0 ; i < bossAry.length ; i++){
                var tmp_data = bossAry[i];
                var tmp2 = listXMP;
                tmp2 = tmp2.replace(/\*BOSSNAME\*/gi, tmp_data["name"]);
                tmp2 = tmp2.replace(/\*BORNTIME\*/gi, secTrancer(tmp_data["nextBorn"]) );
                tmp2 = tmp2.replace(/\*BOSSPLACE\*/gi, (bossPlace[tmp_data["index"]][tmp_data["lastPlace"]])? "最後位置:" + bossPlace[tmp_data["index"]][tmp_data["lastPlace"]]:"");
                var textStylr = "";
                var textColor = "#FF0000";
                var textColor2 = "#9933ff";
                var tmp_SW = bossWarn[tmp_data["index"]];
                if( tmp_data["nextBorn"] != "" && (tmp_data["nextBorn"]-nowD) < 5*60*1000){
                    if(warnSW){
                        if(!tmp_SW){
                            console.log("open Ring");
                            ringUtil.playRing(5000);
                            bossWarn[tmp_data["index"]] = true;
                        }
                    }
                    textStylr = "background-color:Tomato;";
                    textColor = "#ffffff";
                    textColor2 = "#ffff66";
                }else{
                    if(tmp_SW)bossWarn[tmp_data["index"]] = false;
                }
                tmp2 = tmp2.replace(/\*STYLE\*/gi, textStylr );
                tmp2 = tmp2.replace(/\*COLOR\*/gi, textColor );
                tmp2 = tmp2.replace(/\*COLOR2\*/gi, textColor2 );

                tmp_list_v += tmp2;  
            }
            btn_view.innerHTML = tmp_btn_v;
            show_view.innerHTML = tmp_list_v;

		}
		function setBossTime(key,place) {
            event.stopPropagation()
            var boss_D = bossData[key];
            var timeInMs = Date.now();
            var addsec = (boss_D["rebornTime"]*60)*1000;
            bossData[key]["nextBorn"] = timeInMs + addsec;
            if(place)bossData[key]["lastPlace"] = place;
            setGSBossData();
            // setLocalStorage("bossData_v2",JSON.stringify(bossData));
            
        }
        function secTrancer(timestamp){
            if(timestamp == "")return "-";
            var date = new Date(timestamp);
            var year = date.getFullYear();
            var month = (date.getMonth()+1)+"";
            var day = date.getDate()+"";
            var hh = date.getHours()+"";
            var mm = date.getMinutes()+"";
            var ss = date.getSeconds()+"";
            
            var real_month = (month.length < 2)?"0"+month:month;
            var real_day = (day.length < 2)?"0"+day:day;
            var real_hh = (hh.length < 2)?"0"+hh:hh;
            var real_mm = (mm.length < 2)?"0"+mm:mm;
            var real_ss = (ss.length < 2)?"0"+ss:ss;
            var tmp_time = year + "/" + real_month + "/" + real_day + " " + real_hh + ":" + real_mm + ":" + real_ss;

            return tmp_time;
        }
        function timeTrancer(daytime){
            if(daytime == "")return "";
            var rs = "";
            var d = new Date(daytime);
            rs = d.getTime();

            return rs;
        }        
        function editBossTime (){
            var dayTime = "";
            var time_YYYY = document.getElementById("time_YYYY").value;
            var time_Mon = document.getElementById("time_Mon").value;
            var time_DD = document.getElementById("time_DD").value;
            var time_HH = document.getElementById("time_HH").value;
            var time_MM = document.getElementById("time_MM").value;
            var time_SS = document.getElementById("time_SS").value;
            var boss_select = document.getElementById("boss_select").value;
            var place_select = document.getElementById("place_select").value;
            if(time_SS == "")time_SS = "000";
            dayTime = time_YYYY + "-" + time_Mon + "-" + time_DD + " " + time_HH + ":" + time_MM + ":" + time_SS;
            var timstamp = timeTrancer(dayTime);
            if(isNaN(timstamp)){
                dayTime = time_YYYY + "/" + time_Mon + "/" + time_DD + " " + time_HH + ":" + time_MM + ":" + time_SS;
                timstamp = timeTrancer(dayTime);
            }
            // console.log(dayTime + " | " + timstamp);
            bossData[boss_select]["nextBorn"] = timstamp;
            bossData[boss_select]["lastPlace"] = place_select;
            setGSBossData();
            // setLocalStorage("bossData_v2",JSON.stringify(bossData));

        }
        function getLocalStorage () {
            var tmp_storage = null;
            try {
                tmp_storage = (window.localStorage) ? window.localStorage : window.globalStorage[strDomain];
                return tmp_storage;
            } catch (e) {
                return "";
            }
        }
        function getLocalStorageItem (_key) {
            var tmp_storage = getLocalStorage();
            return tmp_storage.getItem(_key);
        }        
        function setLocalStorage (_key,_value) {
            var tmp_storage = getLocalStorage();
            tmp_storage.setItem(_key,_value);
        }
        function removeLocalStorage (_key){
            var tmp_storage = getLocalStorage();            
            tmp_storage.removeItem(_key);          
            bossData = null;
            init();
        }
        function checkBossTime(){
            var isModify = false;
            for (key in bossData) {
                var tmp_BD = bossData[key];
                var BT = tmp_BD["nextBorn"];
                var loopSW = true;
                var nowD = Date.now();
                var addsec = (tmp_BD["rebornTime"]*60 + tmp_BD["killTime"]*60)*1000;
                if(nowD > BT){
                    while(loopSW){
                        BT = BT*1+addsec;
                        if(BT > nowD){
                            loopSW = false;
                            isModify = true;
                            tmp_BD["nextBorn"] = BT;
                        }
                    }
                }
            }
            if(isModify)setGSBossData();
            // if(isModify)setLocalStorage("bossData",JSON.stringify(bossData));
            show();
        }
        function object_sort (obj) {
            var gmary = new Array();
            for(var key in obj){
                gmary.push(obj[key]);
            }
            gmary = gmary.sort(function (a, b) {return a["nextBorn"]- b["nextBorn"]; });

            return gmary;
        }
        function object_count (obj) {
            var count = 0;
            for(var key in obj){
                count++;
                
            }
            return count;
        }        
        function getBossData(){
            var msg_text = document.getElementById("msg_text");
            var tmpD = getLocalStorageItem("bossData_v2");
            msg_text.value = tmpD;
        }
        function setBossData(){
            var msg_text = document.getElementById("msg_text");

            if(msg_text.value == ""){
                alert("請勿匯入空白資料!");
                return;
            }            
            
            var tmp_Obj = JSON.parse(msg_text.value);
            if(typeof(tmp_Obj) != "object"){
                alert("資料格式錯誤!");
                return;
            }

            setLocalStorage("bossData_v2",JSON.stringify(tmp_Obj));
            bossData = tmp_Obj;
            checkBossTime();
        }
        function doCopy(divID) {
            var copyDiv = document.getElementById(divID);
            if (window.clipboardData) {
                window.clipboardData.setData("Text", copyDiv.innerHTML);
                alert("success_Copy");
            }
            else if (document.createRange && window.getSelection) {
                var range = document.createRange();
                range.selectNode(copyDiv);
                var sel = window.getSelection();
                sel.removeAllRanges();
                sel.addRange(range);
                document.execCommand("Copy", false, null);
                sel.removeAllRanges();
                alert("success_Copy");
            } else {
                alert("erro_Copy");
            }
        }
        function ringSystem(){
            var self = this;
            self.setRingAudioAtr = function () {
                var ring = document.getElementById("ring_audio");
                ring.setAttribute("type", "audio/mpeg");
                ring.setAttribute("Loop", "Loop");
            }

            self.playRing = function (closeTime) {
                console.log("is Ring " + closeTime);
                var ring = document.getElementById("ring_audio");
                ring.play();
                setTimeout("ringUtil.stopRing()", closeTime);
            }

            self.stopRing = function () {
                console.log("close close");
                var ring = document.getElementById("ring_audio");
                if (!ring) return;
                ring.pause();
                ring.load();
            }
        }
        function warningSW(){
            var warnPic = document.getElementById("warnPic");
            var warnText = document.getElementById("warnText");
            if(warnSW){
                warnPic.classList.remove("glyphicon-volume-up");
                warnPic.classList.add("glyphicon-volume-off");
                warnSW = false;
                warnText.innerHTML = "Warning Off";
            }else{
                warnPic.classList.remove("glyphicon-volume-off");
                warnPic.classList.add("glyphicon-volume-up");
                warnSW = true;
                warnText.innerHTML = "Warning Open";
            }
        }       
        function boss_select(){
            var boss_select = document.getElementById("boss_select");
            var place_select = document.getElementById("place_select");
            var tmp_index = boss_select.value;
            place_select.options.length = 0;
            for(var key in bossPlace[tmp_index]){
                var tmp = bossPlace[tmp_index][key];
                if(tmp == "")tmp = "無區分";
                place_select.options.add(new Option(tmp, key));
            }
        }     
        function resetAllTime(){
            for(var key in bossData){
                var boss_D = bossData[key];
                var date = new Date(Date.now());
                var year = date.getFullYear();
                var month = (date.getMonth()+1)+"";
                var day = date.getDate()+"";
                var dayTime = "";
                dayTime = year + "-" + month + "-" + day + " 05:50:00";
                var timstamp = timeTrancer(dayTime);
                if(isNaN(timstamp)){
                    dayTime = year + "/" + month + "/" + day + " 05:50:00";
                    timstamp = timeTrancer(dayTime);
                }
                bossData[key]["nextBorn"] = timstamp ;
            }
            console.log(bossData);
            setGSBossData();
            // setLocalStorage("bossData_v2",JSON.stringify(bossData));
            // show();
        }

        function getGSBossData(){
            $.ajax({
                url: "https://script.google.com/macros/s/AKfycbwef3IcTUu2jPIRcm3KXJvSb0X3CXjc6wX8Mb39oKserfNSbggLmJ3L5rU7zXpNz1LNWQ/exec",
                type: "POST",
                success: function(response) {
                    console.log("success");
                    doSomthing(response);                    
                },                
            });
        }        
        function setGSBossData() {
            var name = JSON.stringify(bossData);
            $.ajax({
                type: "POST",
                url: "https://script.google.com/macros/s/AKfycbxy-ZJgfvS8YNOoSOvutoA4Xht269BzIOUDTXeYcOz-b1sZMhDXgebBSRx1IZImPeZJ/exec",
                data: {
                    "name": name,
                },
                success: function(response) {
                if(response == "成功"){
                    console.log(response);
                    show();                    
                }
                },
            });
        };           
	</script>
</head>

<body onload="init();" style="height:100%;">
    <div class="row">
        <div class="col-sm-4">
            <div class="panel panel-default" >
                <div class="panel-heading">
                    現在時間 : <h3 id="text_now_time"></h3>
                </div>
                <button type="button" class="btn btn-default" onclick="doCopy('show_view')">
                    <span class="glyphicon glyphicon-copy"></span> Copy List
                </button>
                <button type="button" class="btn btn-default" onclick="warningSW()" >
                    <span class="glyphicon glyphicon-volume-off" id="warnPic" ></span> 
                    <span id="warnText" >Warning Off</span>
                </button>
                <button type="button" class="btn btn-default" onclick="resetAllTime()" >
                    <span class="glyphicon glyphicon-retweet" id="warnPic" ></span> Reset All time
                    
                </button>
            </div>            
        </div>
        <div class="col-sm-6" >
            <div class="">
                <h3>設定時間</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                BOSS名稱:
                                <select class="form-control" id="boss_select" onchange="boss_select()"></select>
                            </th>
                            <th>
                                最後位置:
                                <select class="form-control" id="place_select" ></select>
                            </th>                        
                            <th><button type="button" class="btn btn-success" onclick="editBossTime()">修改</button></th>
                          </tr>
                      </thead>
                </table>
               
    
                <table class="table">
                    <thead>
                      <tr>
                        <th>Year</th>
                        <th>Mon</th>
                        <th>Day</th>
                        <th>Hr</th>
                        <th>Min</th>
                        <th>Sec</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><input type="text" class="form-control" id="time_YYYY"></td>
                        <td><input type="text" class="form-control" id="time_Mon"></td>
                        <td><input type="text" class="form-control" id="time_DD"></td>
                        <td><input type="text" class="form-control" id="time_HH"></td>
                        <td><input type="text" class="form-control" id="time_MM"></td>
                        <td><input type="text" class="form-control" id="time_SS" placeholder="000"></td>
                      </tr>
                    </tbody>
                </table>
                  
            </div>

            <div style="display:none;">
                <div class="input-group">
                    <span class="input-group-addon">Text</span>
                    <input id="msg_text" type="text" class="form-control" name="msg" placeholder="Data is here">
                </div> 
                <button type="button" class="btn btn-info" onclick="getBossData()">匯出資料</button>
                <button type="button" class="btn btn-warning" onclick="setBossData()">匯入資料</button>
                <button type="button" class="btn btn-default " onclick="doCopy('msg_text')">
                    <span class="glyphicon glyphicon-copy"></span> Copy Text
                </button>
            </div>
        </div>
      
    </div>
    <div class="row">
        <div class="panel panel-default col-lg-4" id= "show_view"></div>
        <div id="btn_view" style="" class="col-lg-8 btn-group"></div>

    </div>
    </div>
    <div id="copy_area"></div>
    <audio id="ring_audio">
        <source src="./warnig.mp3">
    </audio>
    <div style="display:none">
        <xmp id="btnXMP" >
            <div class="btn btn-*CLASS* btn-lg" onclick="setBossTime(*ID*,'')" style="height: 120px;" id = "btn_boss_*ID*" >
                *BOSSNAME*
                <h4>*BORNTIME*</h4>
                <div class="btn-group">*PLACEBTN*</div>
                </div>
        </xmp>
        <xmp id="listXMP" >
            <div class="panel-body" style ="*STYLE*">
                <font color="*COLOR*" size="5">*BORNTIME*</font>
                <font size="3">*BOSSNAME*</font>
                <font size="3" color="*COLOR2*">*BOSSPLACE*</font>
            </div>
        </xmp>
        <xmp id="btnXMP2" >
            <button type="button" class="btn btn-default" onclick="setBossTime(*ID*,*PLACEID*)">*PLACENAME*</button>
        </xmp>
    </div>
</body>

</html>